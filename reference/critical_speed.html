<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Critical Speed — critical_speed • cyclingtools</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Critical Speed — critical_speed" />
<meta property="og:description" content="Performs critical speed estimations based on the methods chosen." />
<meta property="og:image" content="/reference/figures/logo.png" />
<meta property="og:image:alt" content="Tools for Manipulating Cycling Data" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content="@felipe_mattioni" />
<meta name="twitter:site" content="@felipe_mattioni" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-126092763-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-126092763-1');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cyclingtools</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/cyclingtools.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/fmmattioni/cyclingtools">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://twitter.com/felipe_mattioni">
    <span class="fa fa-twitter fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Critical Speed</h1>
    
    <div class="hidden name"><code>critical_speed.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Performs critical speed estimations based on the methods chosen.</p>
    </div>

    <pre class="usage"><span class='fu'>critical_speed</span>(
  <span class='kw'>.data</span>,
  <span class='kw'>distance_column</span>,
  time_to_exhaustion_column = <span class='st'>"TTE"</span>,
  method = <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"3-hyp"</span>, <span class='st'>"2-hyp"</span>, <span class='st'>"linear"</span>, <span class='st'>"1/time"</span>),
  plot = <span class='fl'>TRUE</span>,
  reverse_y_axis = <span class='fl'>FALSE</span>,
  all_combinations = <span class='fl'>FALSE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>.data</th>
      <td><p>A data frame containing a distance column and their respective time-to-exhaustion.</p></td>
    </tr>
    <tr>
      <th>distance_column</th>
      <td><p>The name of the distance column. This value has to be in meters.</p></td>
    </tr>
    <tr>
      <th>time_to_exhaustion_column</th>
      <td><p>The name of the time-to-exhaustion column. This value has to be in seconds. Default to <code>"TTE"</code>.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>The method for estimating critical speed. It can be one or multiple methods. Default to <code><a href='https://rdrr.io/r/base/c.html'>c("3-hyp", "2-hyp", "linear", "1/time")</a></code>.</p></td>
    </tr>
    <tr>
      <th>plot</th>
      <td><p>A boolean indicating whether to produce a plot from the critical speed estimation. Default to <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>reverse_y_axis</th>
      <td><p>A boolean to indicate whether to plot the Speed (m/s) in the y-axis. It is ignored for the linear methods. Default to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>all_combinations</th>
      <td><p>A boolean indicating whether to perform the critical speed estimation from all the possible combinations of time-to-exhaustion trials provided. Please, see 'Details' for more information. Default to <code>FALSE</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a <a href='https://tibble.tidyverse.org/reference/tibble-package.html'>tibble</a> containing the following columns:</p>
<dt>index</dt><dd><p>In case <code>all_combinations = TRUE</code> this column indicates the row number of the trials chosen for the critical speed estimation. They correspond to the row numbers in your data.</p></dd>
<dt>method</dt><dd><p>The critical speed method for that estimation.</p></dd>
<dt>data</dt><dd><p>The data you provided.</p></dd>
<dt>model</dt><dd><p>A <code>nls</code> or <code>lm</code> object. The model used in the critical speed fitting.</p></dd>
<dt>CS</dt><dd><p>Critical speed, in meters per second.</p></dd>
<dt>CS SEE</dt><dd><p>Standard error of the estimation of critical speed, in meters per second.</p></dd>
<dt>D'</dt><dd><p>Anaerobic distance capacity, in joules.</p></dd>
<dt>D' SEE</dt><dd><p>Standard error of the estimation of anaerobic work capacity, in joules.</p></dd>
<dt>Smax</dt><dd><p>Maximal instantaneous speed, in meters per second (only available in CP 3-hyp).</p></dd>
<dt>Smax SEE</dt><dd><p>Standard error of the estimation of maximal instantaneous seed, in meters per second (only available in CP 3-hyp).</p></dd>
<dt>R2</dt><dd><p>R-squared.</p></dd>
<dt>RMSE</dt><dd><p>Root mean square error, the units vary depending on the method, as they represent the units of the response (i.e., y-axis): CP3-hyp in seconds, CP2-hyp in seconds, CPlinear in joules, and CP1/time in watts.</p></dd>
<dt>plot</dt><dd><p>The critical power plot.</p></dd>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Please, note that estimations of critical power are highly influenced by the range
of time-to-exhaustion trials performed, and the chosen critical power model. Please, see Mattioni Maturana et al. (2018).</p>
<p><strong>A note on the R2 value</strong>: Please, note that for the hyperbolic fits (CP 3-hyp and CP 2-hyp) this value is actually a pseudo r-squared, as they are not linear models.</p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>CP 3-hyp</h3>


<p>The 3-parameter hyperbolic model is calculated as the following (Morton, 1996):</p>
<p><script id="MathJax-script" async src="../../mathjaxr/doc/mathjax/es5/tex-chtml-full.js"></script>

\[t=\frac{W'}{speed-CS}+\frac{W'}{CS-S_{max}}\]</p>

<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>CP 2-hyp</h3>


<p>The 2-parameter hyperbolic model is calculated as the following (Hill, 1993):</p>
<p>\[t=\frac{W'}{speed-CS}\]</p>

<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>CP linear</h3>


<p>The linear model is calculated as the following (Moritani et al. 1981):</p>
<p>\[W_{lim}=W'+CP\cdot t\]</p>

<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>CP 1/time</h3>


<p>The 1/time linear model is calculated as the following (Whipp et al. 1982):</p>
<p>\[speed=W'\cdot \frac{1}{t}+CS\]</p>

<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>All combinations</h3>


<p>When the argument <code>all_combinations = TRUE</code>, the function takes the given data and finds all the
possible combinations of the trials given. For example, if 5 trials are provided (i.e., your data contains 5 rows),
critical speed will be fitted with all the 5 trials, then all the possible combinations using only 4 trials, and so on.
This feature was inspired on our paper Mattioni Maturana et al. (2018).</p>
<p>When all the combinations are fitted, an extra column called "index" appears in the final results.
This is the index of the trial number used to fit the model.
This corresponds to the row number of your data (e.g., in <code>[1,3,5]</code> trials #1, #3, and #5 are used).</p>

    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Mattioni Maturana, F., Fontana, F. Y., Pogliaghi, S., Passfield, L., &amp; Murias, J. M. (2018). Critical power: How different protocols and models affect its determination. Journal of Science and Medicine in Sport, 21(7), 742-747.</p>
<p>Hugh Morton, R. (1996). A 3-parameter critical power model. Ergonomics, 39(4), 611-619.</p>
<p>Hill, D. W. (1993). The critical power concept. Sports medicine, 16(4), 237-254.</p>
<p>Moritani, T., NAGATA, A., DEVRIES, H. A., &amp; MURO, M. (1981). Critical power as a measure of physical work capacity and anaerobic threshold. Ergonomics, 24(5), 339-350.</p>
<p>Whipp, B. J., Huntsman, D. J., Storer, T. W., Lamarra, N., &amp; Wasserman, K. (1982, January). A constant which determines the duration of tolerance to high-intensity work. In Federation proceedings (Vol. 41, No. 5, pp. 1591-1591). 9650 ROCKVILLE PIKE, BETHESDA, MD 20814-3998: FEDERATION AMER SOC EXP BIOL.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>results</span> <span class='op'>&lt;-</span> <span class='fu'>critical_speed</span>(
 .data = <span class='kw'>demo_critical_speed</span>,
 distance_column = <span class='st'>"Distance"</span>,
 time_to_exhaustion_column = <span class='st'>"TTE"</span>,
 method = <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"3-hyp"</span>, <span class='st'>"2-hyp"</span>, <span class='st'>"linear"</span>, <span class='st'>"1/time"</span>),
 plot = <span class='fl'>TRUE</span>,
 all_combinations = <span class='fl'>FALSE</span>
)

<span class='kw'>results</span>
</div><div class='output co'>#&gt; <span style='color: #555555;'># A tibble: 3 x 10</span><span>
#&gt;   method data             model     CS `CS SEE`  `D'` `D' SEE`    R2  RMSE plot 
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;list&gt;</span><span>           </span><span style='color: #555555;font-style: italic;'>&lt;list&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>    </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>    </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;lis&gt;</span><span>
#&gt; </span><span style='color: #555555;'>1</span><span> 2-hyp  </span><span style='color: #555555;'>&lt;tibble [3 × 3]&gt;</span><span> </span><span style='color: #555555;'>&lt;nls&gt;</span><span>   4.52        0  143.     0.94  1.00  1.43 </span><span style='color: #555555;'>&lt;gg&gt;</span><span> 
#&gt; </span><span style='color: #555555;'>2</span><span> linear </span><span style='color: #555555;'>&lt;tibble [3 × 3]&gt;</span><span> </span><span style='color: #555555;'>&lt;lm&gt;</span><span>    4.52        0  142.     1     1     0.86 </span><span style='color: #555555;'>&lt;gg&gt;</span><span> 
#&gt; </span><span style='color: #555555;'>3</span><span> 1/time </span><span style='color: #555555;'>&lt;tibble [3 × 3]&gt;</span><span> </span><span style='color: #555555;'>&lt;lm&gt;</span><span>    4.53        0  142.     1.02  1.00  0    </span><span style='color: #555555;'>&lt;gg&gt;</span><span> </div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://fmattioni.me'>Felipe Mattioni Maturana</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


